# ONE360 Website (Next.js Static Export)

SEO-focused, static-export Next.js rebuild of ONE360 with non-ecommerce scope, route parity, HubSpot booking form embed, and Vercel deployment support.

## Stack

- Next.js App Router
- TypeScript
- CSS Modules
- Static export (`output: "export"`)
- JSON-driven content (`src/data/pages/*.json`)

## Implemented Scope

- Included all requested non-ecommerce routes from ONE360 sitemap.
- Excluded WooCommerce pages from content build.
- Added Vercel permanent redirects for excluded ecommerce URLs.
- Preserved page copy via scraped `main` content and route-specific metadata.
- Kept booking flow with HubSpot embed:
  - `portalId: 20932730`
  - `formId: 4f4fe4b3-e524-4305-83d1-767cdcb150c0`
- Removed GTM/Meta/Buttonizer/Instagram plugin embeds from rendered page data.
- Added sitemap + robots generation.
- Added JSON-LD for BreadcrumbList, FAQPage, and LocalBusiness.

## Project Structure

- `public/images` - local media and optimized variants
- `public/fonts` - Inter + Cardo font files self-hosted
- `scripts/scrape-one360.mjs` - crawl/scrape and data generation
- `scripts/optimize-media.mjs` - media download + optimization + manifest update
- `src/app` - Next.js routes and metadata/sitemap/robots
- `src/components` - reusable UI components
- `src/data/routes.json` - route manifest and indexability/priorities
- `src/data/site.json` - navigation, footer, contact, socials
- `src/data/pages/*.json` - per-page source-of-truth content
- `src/seo` - metadata + schema helpers
- `src/utils` - content loaders, route helpers, HTML transforms

## Commands

```bash
npm install
npm run dev
npm run build
vercel deploy
```

## Content Pipeline

### 1) Scrape content

```bash
npm run scrape
```

This script:
- Reads sitemap inputs:
  - `https://one360.com.au/page-sitemap.xml`
  - `https://one360.com.au/post-sitemap.xml`
  - `https://one360.com.au/category-sitemap.xml`
- Extracts metadata, headings, main content HTML, media, internal links, FAQs, breadcrumbs.
- Writes normalized data to:
  - `src/data/pages/*.json`
  - updates `src/data/routes.json`

### 2) Download and optimize media

```bash
npm run media:optimize
```

This script:
- Downloads allowed assets from `https://one360.com.au/wp-content/uploads/*`
- Generates responsive variants and WebP outputs.
- Stores media in `public/images`.
- Updates:
  - `src/data/media-manifest.json`
  - local media references in `src/data/pages/*.json`

## Redirects

Configured in `vercel.json`:
- `/book` -> `/book/`
- `/category/blogs/` -> `/blogs/`
- `/cart/` -> `/book/`
- `/checkout/` -> `/book/`
- `/my-account/` -> `/book/`
- `/my-account/lost-password/` -> `/book/`
- `/shop/` -> `/book/`
- `/product/:slug*` -> `/book/`

## SEO Notes

- Canonical URL per page.
- Unique title/description loaded from route JSON.
- One rendered `<h1>` per page via Hero component.
- `robots.ts` and `sitemap.ts` generated by App Router metadata APIs.
- `noindex` applied to:
  - `/thank-you/`
  - `/sample-page/`

## GitHub -> Vercel Deployment

1. Push `/Users/nachiketshah/Documents/one360-website` to a GitHub repository.
2. In Vercel, import the repository.
3. Framework preset: Next.js.
4. Build command: `npm run build`.
5. Output: handled by Next.js static export.
6. Deploy.
7. Add production domain and re-deploy.

## Notes

- This project requires Node.js and npm installed locally.
- If ONE360 source content changes, rerun scrape + media optimization.
